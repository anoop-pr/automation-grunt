var showtime=angular.module("showtime",["ngRoute"]);showtime.config(["$routeProvider",function(a){a.when("/",{templateUrl:"partials/channel-list.html",controller:"ChannelsCtrl"}).when("/program/:channel",{templateUrl:"partials/programs.html",controller:"ProgramsCtrl"}).otherwise({redirectTo:"/404page"})}]),showtime.controller("ChannelsCtrl",["$scope","showtimeService",function(a,b){b.getchannels().then(function(b){a.channels=b},function(a){console.log(a)})}]),showtime.controller("ProgramsCtrl",["$scope","$routeParams","showtimeService",function(a,b,c){c.getPrograms(b.channel).then(function(a){console.log(a)},function(a){console.log("Return status",a)})}]),showtime.factory("showtimeService",["$http","$q",function(a,b){var c="assets/channels.json";return{getchannels:function(){var d=b.defer();return a.get(c).success(function(a){d.resolve(a)}).error(function(a,b){d.reject(b)}),d.promise},getPrograms:function(c){var d="http://indian-television-guide.appspot.com/indian_television_guide?channel="+c+"&date=17062014",e=b.defer();return a.jsonp(d).success(function(a){e.resolve(a)}).error(function(a,b){e.reject(b)}),e.promise}}}]);